(this["webpackJsonpavatar-suspect-expander"]=this["webpackJsonpavatar-suspect-expander"]||[]).push([[0],{125:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),l=a(91),s=a(160),c=a(161),u=a(163),d=a(164),h=Object(l.a)({typography:{fontFamily:["Lato","Roboto",'"Segoe UI"','"Helvetica Neue"'].join(","),flexGrow:1,align:"center"}}),m={root:{flexGrow:1},appbar:{alignItems:"center"}},p=function(e){return r.a.createElement("div",{className:m.root},r.a.createElement(s.a,{theme:h},r.a.createElement(c.a,{style:m.appbar,position:"static"},r.a.createElement(u.a,null,r.a.createElement(d.a,{variant:"h5",color:"inherit"},e.nameTitle)))))},f=a(17),v=a(11),E=a(29),b=a(28),g=a(54),y=a.n(g),w=new Map;w.set("fire","#C0392B"),w.set("water","#2980B9"),w.set("air","#85C1E9"),w.set("earth","#D68910");var O=w,C=function(e,t,a,n){var r={nodes:[],links:[]},o=new Map;return r.nodes.push({id:e,color:O.get(a)}),o.set(e,{name:t,element:a}),n.forEach((function(t){r.nodes.push({id:t.id,color:O.get(t.element)}),r.links.push({source:e,target:t.id,color:"black"}),o.set(t.id,{name:t.name,element:t.element})})),{data:r,mapData:o}},D=function(e,t){var a=new Map;a.set(e,!0);var n=[];return t.forEach((function(e){!1===a.has(e.id)&&(a.set(e.id,!0),n.push(e))})),n},k=a(170),j=a(168),S=a(169),N=(a(125),function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).onChanged=function(e){n.setState({idValue:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.handleGetRequest(n.state.idValue)},n.state={idValue:""},n}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchBar"},r.a.createElement(d.a,{className:"searchTypography",variant:"h5"},"Search the person's graph of friends with the person's ID"),r.a.createElement("form",{className:"searchForm",onSubmit:this.handleSubmit},r.a.createElement(k.a,{fullWidth:!0,required:!0,type:"number",value:this.state.idValue,onChange:this.onChanged,placeholder:"Search by ID",variant:"outlined",color:"primary"}),r.a.createElement(j.a,{m:1.2}),r.a.createElement(S.a,{type:"submit",variant:"outlined",color:"primary"},"SEARCH")))}}]),a}(r.a.Component)),x=a(89),F=a(171),G=a(167),I=(a(135),function(e){var t=O.get(e);return{color:t,padding:20,border:"3px solid "+t,borderRadius:20}}),R=function(e,t){if(null===t)return null;var a="List of "+e+"'s friends:";return r.a.createElement("div",{className:"list"},r.a.createElement(d.a,{variant:"h6"},a),r.a.createElement(j.a,{display:"flex",flexWrap:"wrap",justifyContent:"center",m:1,p:1},t.map((function(e){return function(e){return r.a.createElement(j.a,{key:e.id,p:1},r.a.createElement(F.a,{primary:e.name,secondary:e.element,style:I(e.element)}))}(e)}))))},V=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return!1===this.props.showFriends?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(r.a.Fragment,{key:"bottom"},r.a.createElement(G.a,{anchor:"bottom",open:this.props.showFriends,onClose:this.props.handleCloseDrawer,onOpen:this.props.handleOpenDrawer},r.a.createElement(S.a,{onClick:this.props.handleCloseDrawer,color:"primary",variant:"outlined",size:"large"},"CLOSE LIST"),R(this.props.name,this.props.friends))))}}]),a}(r.a.Component),M=(a(136),{height:280,width:440,minZoom:1,maxZoom:1,node:{size:600,fontSize:15,strokeColor:"black"}}),q=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).onMouseOverNode=function(e){var t=n.props.dataValue.graphData.mapData;n.setState({id:e,name:t.get(e).name,element:t.get(e).element})},n.handleClickedNode=function(e){var t=e.payload,a=t.id,r=t.friends,o=D(a,r);n.setState({friends:o,showFriends:!0})},n.onClickNode=function(e){y.a.get("https://avatar.labpro.dev/friends/"+e).then((function(e){return n.handleClickedNode(e.data)})).catch((function(e){return console.log(e)}))},n.handleCloseDrawer=function(){n.setState({showFriends:!1})},n.handleOpenDrawer=function(){n.setState({showFriends:!0})},n.state={id:null,name:null,element:null,friends:null,showFriends:!1},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.dataValue,t=e.id,a=e.graphData,n=e.error;return null!==n?r.a.createElement(d.a,{style:{textAlign:"center"},color:"error",variant:"h6"},n):null===t?r.a.createElement("div",null):r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(d.a,{variant:"subtitle1"},"Hovered Node Details:"),null===this.state.id?r.a.createElement(d.a,{variant:"subtitle1",style:{color:"gray"}},"Hover on a node to see it's detail"):r.a.createElement(d.a,{variant:"subtitle1",style:{color:O.get(this.state.element)}},"[",this.state.id,"] ",this.state.name," (",this.state.element,")"),r.a.createElement(x.Graph,{id:"graph-id",data:a.data,config:M,onMouseOverNode:this.onMouseOverNode,onClickNode:this.onClickNode}),r.a.createElement(d.a,{variant:"subtitle2",style:{color:"gray"}},"Tips: click on a node to see the person's friends list!"),r.a.createElement(V,{name:this.state.name,friends:this.state.friends,showFriends:this.state.showFriends,handleCloseDrawer:this.handleCloseDrawer,handleOpenDrawer:this.handleOpenDrawer}),r.a.createElement(j.a,{m:3}))}}]),a}(n.Component),A=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).setData=function(e){var t=e.payload,a=t.id,r=t.name,o=t.element,i=t.friends,l=D(a,i),s=C(a,r,o,l);n.setState({id:a,graphData:s,error:null})},n.handleGetRequest=function(e){var t="Error: ID ".concat(e," not found.");y.a.get("https://avatar.labpro.dev/friends/"+e).then((function(e){return n.setData(e.data)})).catch((function(){return n.setState({error:t})}))},n.state={id:null,graphData:null,error:null},n}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N,{handleGetRequest:this.handleGetRequest}),r.a.createElement(q,{dataValue:this.state}))}}]),a}(n.Component),B=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,{nameTitle:"Avatar Suspect Expander",variant:"h5"}),r.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},99:function(e,t,a){e.exports=a(139)}},[[99,1,2]]]);
//# sourceMappingURL=main.e9c69a9d.chunk.js.map