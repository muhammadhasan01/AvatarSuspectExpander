(this["webpackJsonpavatar-suspect-expander"]=this["webpackJsonpavatar-suspect-expander"]||[]).push([[0],{100:function(e,t,a){e.exports=a(140)},126:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},140:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o),l=a(92),s=a(161),c=a(162),d=a(164),u=a(165),h=Object(l.a)({typography:{fontFamily:["Lato","Roboto",'"Segoe UI"','"Helvetica Neue"'].join(","),flexGrow:1,align:"center"}}),m={root:{flexGrow:1},appbar:{alignItems:"center"}},p=function(e){return r.a.createElement("div",{className:m.root},r.a.createElement(s.a,{theme:h},r.a.createElement(c.a,{style:m.appbar,position:"static"},r.a.createElement(d.a,null,r.a.createElement(u.a,{variant:"h5",color:"inherit"},e.nameTitle)))))},f=a(17),v=a(11),E=a(29),g=a(28),b=a(43),y=a.n(b),w=new Map;w.set("fire","#C0392B"),w.set("water","#2980B9"),w.set("air","#85C1E9"),w.set("earth","#D68910");var D=w,O=function(e,t,a,n){var r={nodes:[],links:[]},o=new Map,i=new Map;return r.nodes.push({id:e,color:D.get(a)}),o.set(e,{name:t,element:a}),n.forEach((function(t){r.nodes.push({id:t.id,color:D.get(t.element)}),r.links.push({source:e,target:t.id,color:"black"}),o.set(t.id,{name:t.name,element:t.element}),i.set(t.id,!0),i.set((t.id,e),!0)})),{data:r,mapData:o,mapLinks:i}},k=function(e,t){var a=new Map;a.set(e,!0);var n=[];return t.forEach((function(e){!1===a.has(e.id)&&(a.set(e.id,!0),n.push(e))})),n},N=a(171),C=a(169),S=a(170),x=(a(126),function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).onChanged=function(e){n.setState({idValue:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.handleGetRequest(n.state.idValue)},n.state={idValue:""},n}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchBar"},r.a.createElement(u.a,{className:"searchTypography",variant:"h5"},"Search the person's graph of friends with the person's ID"),r.a.createElement("form",{className:"searchForm",onSubmit:this.handleSubmit},r.a.createElement(N.a,{fullWidth:!0,required:!0,type:"number",value:this.state.idValue,onChange:this.onChanged,placeholder:"Search by ID",variant:"outlined",color:"primary"}),r.a.createElement(C.a,{m:1.2}),r.a.createElement(S.a,{type:"submit",variant:"outlined",color:"primary"},"SEARCH")))}}]),a}(r.a.Component)),j=a(65),F=a(172),H=a(168),L=(a(136),function(e){var t=D.get(e);return{color:t,padding:20,border:"3px solid "+t,borderRadius:20}}),M=function(e,t){if(null===t)return null;var a="List of "+e+"'s friends:";return r.a.createElement("div",{className:"list"},r.a.createElement(u.a,{variant:"h6"},a),r.a.createElement(C.a,{display:"flex",flexWrap:"wrap",justifyContent:"center",m:1,p:1},t.map((function(e){return function(e){return r.a.createElement(C.a,{key:e.id,p:1},r.a.createElement(F.a,{primary:e.name,secondary:e.element,style:L(e.element)}))}(e)}))))},G=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return!1===this.props.showFriends?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement(r.a.Fragment,{key:"bottom"},r.a.createElement(H.a,{anchor:"bottom",open:this.props.showFriends,onClose:this.props.handleCloseDrawer,onOpen:this.props.handleOpenDrawer},r.a.createElement(S.a,{onClick:this.props.handleCloseDrawer,color:"primary",variant:"outlined",size:"large"},"CLOSE LIST"),M(this.props.name,this.props.friends))))}}]),a}(r.a.Component),q=a(66),I=a.n(q),R=(a(137),{height:500,width:700,minZoom:1,maxZoom:1,node:{size:600,fontSize:15,strokeColor:"black"}}),V={height:460,width:400,minZoom:1,maxZoom:1,node:{size:300,fontSize:15,strokeColor:"black"}},z=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).onMouseOverNode=function(e){var t=n.props.dataValue.graphData.mapData;n.setState({id:e,name:t.get(e).name,element:t.get(e).element})},n.handleHoveredNodeDetail=function(e){var t=e.payload,a=t.id,r=t.friends,o=k(a,r);n.setState({friends:o,showFriends:!0})},n.onHoveredNodeDetail=function(){y.a.get("https://avatar.labpro.dev/friends/"+n.state.id).then((function(e){return n.handleHoveredNodeDetail(e.data)})).catch((function(e){return console.log(e)}))},n.handleCloseDrawer=function(){n.setState({showFriends:!1})},n.handleOpenDrawer=function(){n.setState({showFriends:!0})},n.state={id:null,name:null,element:null,friends:null,showFriends:!1},n}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.dataValue,t=e.id,a=e.graphData,n=e.error;return null!==n?r.a.createElement(u.a,{style:{textAlign:"center"},color:"error",variant:"h6"},n):null===t?r.a.createElement("div",null):r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(u.a,{variant:"subtitle1"},"Hovered Node Details:"),null===this.state.id?r.a.createElement("div",null,r.a.createElement(u.a,{variant:"subtitle1",style:{color:"gray"}},"Hover on a node to see it's detail"),r.a.createElement(C.a,{m:1.2}),r.a.createElement(S.a,{variant:"outlined",style:{color:"gray"},disabled:!0},"See Hovered Node Friends List")):r.a.createElement("div",null,r.a.createElement(u.a,{variant:"subtitle1",style:{color:D.get(this.state.element)}},"[",this.state.id,"] ",this.state.name," (",this.state.element,")"),r.a.createElement(C.a,{m:1.2}),r.a.createElement(S.a,{onClick:this.onHoveredNodeDetail,variant:"outlined",color:"secondary"},"See Hovered Node Friends List")),r.a.createElement(I.a,{query:"(orientation: landscape)"},r.a.createElement(j.Graph,{id:"graph-id",data:a.data,config:R,onMouseOverNode:this.onMouseOverNode,onClickNode:this.props.onExpandNode})),r.a.createElement(I.a,{query:"(orientation: portrait)"},r.a.createElement(j.Graph,{id:"graph-id",data:a.data,config:V,onMouseOverNode:this.onMouseOverNode,onClickNode:this.props.onExpandNode})),r.a.createElement(G,{name:this.state.name,friends:this.state.friends,showFriends:this.state.showFriends,handleCloseDrawer:this.handleCloseDrawer,handleOpenDrawer:this.handleOpenDrawer}),r.a.createElement(C.a,{m:3}))}}]),a}(n.Component),A=function(e,t,a){var n=e.data,r=e.mapData,o=e.mapLinks;return a.forEach((function(e){!1===r.has(e.id)&&(r.set(e.id,{name:e.name,element:e.element}),n.nodes.push({id:e.id,color:D.get(e.element)})),!1===o.has(e.id)&&(o.set(e.id,!0),o.set((e.id,t),!0),n.links.push({source:t,target:e.id,color:"black"}))})),{data:n,mapData:r,mapLinks:o}},B=function(e){Object(E.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(f.a)(this,a),(n=t.call(this,e)).setData=function(e){var t=e.payload,a=t.id,r=t.name,o=t.element,i=t.friends,l=k(a,i),s=O(a,r,o,l);n.setState({id:a,graphData:s,error:null})},n.handleGetRequest=function(e){var t="Error: ID ".concat(e," not found.");y.a.get("https://avatar.labpro.dev/friends/"+e).then((function(e){return n.setData(e.data)})).catch((function(){return n.setState({error:t})}))},n.handleExpand=function(e){var t=e.payload,a=t.id,r=t.friends,o=k(a,r),i=A(n.state.graphData,a,o);console.log(i.data),n.setState({graphData:i})},n.onExpandNode=function(e){y.a.get("https://avatar.labpro.dev/friends/"+e).then((function(e){return n.handleExpand(e.data)})).catch((function(e){return console.log(e)}))},n.state={id:null,graphData:null,error:null},n}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(x,{handleGetRequest:this.handleGetRequest}),r.a.createElement(z,{dataValue:this.state,onExpandNode:this.onExpandNode}))}}]),a}(n.Component),T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,{nameTitle:"Avatar Suspect Expander",variant:"h5"}),r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[100,1,2]]]);
//# sourceMappingURL=main.f8d75070.chunk.js.map